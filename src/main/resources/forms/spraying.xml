<h:html xmlns="http://www.w3.org/2002/xforms"
        xmlns:h="http://www.w3.org/1999/xhtml"
        xmlns:jr="http://openrosa.org/javarosa">
    <h:head>
        <h:title>IRS</h:title>
        <model>
            <instance>
                <data id="spraying" version="${openhds.tag.number}">
                    <openhdsTagName>${openhds.tag.name}</openhdsTagName>

                    <jr:meta>
                        <jr:instanceID/>
                    </jr:meta> 

                    <collectionDateTime/>
                    <surveyDate/>
                    <processedByMirth/>
                    <needsReview/>
                    <entityUuid/>
                    <entityExtId/>
                    <fieldWorkerUuid/>
                    <fieldWorkerExtId/>

                    <locationExtId/>
                    <locationUuid/>
                    <supervisorExtId/>
                    <sprayOperatorExtId>BO</sprayOperatorExtId>
                    <sprayRound/>
                    <iecResult/>
                    <buildingType/>

                    <roomsSprayed/>
                    <kitchensSprayed/>
                    <bathroomsSprayed/>
                    <diningRoomsSprayed/>
                    <terracesSprayed/>
                    <passageWaysSprayed/>
                    <totalSprayed/>

                    <roomsNotSprayed/>
                    <kitchensNotSprayed/>
                    <bathroomsNotSprayed/>
                    <diningRoomsNotSprayed/>
                    <terracesNotSprayed/>
                    <passageWaysNotSprayed/>
                    <totalNotSprayed/>

                    <wastedInsecticideLoads/>

                    <peopleProtectedUnderAge5/>
                    <peopleProtectedPregnant/>
                    <peopleProtectedOther/>
                    <totalPeopleProtected/>

                    <additionalNotes/>
                    <widgets xmlns="widgets">
                        <prompt_trigger_1/>
                        <prompt_trigger_2/>
                        <prompt_trigger_3/>
                    </widgets>
                </data>

            </instance>
            <itext>

                <translation lang="Spanish">
                    <text id="/data/supervisorExtId:label">
                        <value>Codigo de Supervisor</value>
                    </text>
                    <text id="/data/collectionDateTime:label">
                        <value>Fecha de colección</value>
                    </text>
                    <text id="/data/locationExtId:label">
                        <value>ID Externo de Locación</value>
                    </text>
                    <text id="/data/sprayOperatorExtId:label">
                        <value>Codigo de Rociador</value>
                    </text>
                    <text id="/data/sprayOperatorExtId:hint">
                        <value>p.ej. BO123</value>
                    </text>
                    <text id="/data/sprayRound:label">
                        <value>Es la visita principal o secundaria?</value>
                    </text>
                    <text id="/data/sprayRound:option0">
                        <value>Principal</value>
                    </text>
                    <text id="/data/sprayRound:option1">
                        <value>Secundaria</value>
                    </text>

                    <text id="/data/buildingType:label">
                        <value>Tipo de Edificio?</value>
                    </text>
                    <text id="/data/buildingType:option0">
                        <value>Casa</value>
                    </text>
                    <text id="/data/buildingType:option1">
                        <value>Iglesia</value>
                    </text>
                    <text id="/data/buildingType:option2">
                        <value>Escuela</value>
                    </text>
                    <text id="/data/buildingType:option3">
                        <value>Hotel</value>
                    </text>
                    <text id="/data/buildingType:option4">
                        <value>Puesto de Salud</value>
                    </text>
                    <text id="/data/buildingType:option5">
                        <value>Centro de Salud</value>
                    </text>

                    <text id="/data/iecResult:label">
                        <value>Resultado de IEC?</value>
                    </text>
                    <text id="/data/iecResult:option0">
                        <value>Aceptado</value>
                    </text>
                    <text id="/data/iecResult:option1">
                        <value>Cerrado</value>
                    </text>
                    <text id="/data/iecResult:option2">
                        <value>Rechazado</value>
                    </text>

                    <text id="structuresSprayedLabel:label">
                        <value>Estructuras Rociadas</value>
                    </text>
                    <text id="structuresNotSprayedLabel:label">
                        <value>Estructuras No Rociadas</value>
                    </text>

                    <text id="/data/roomsSprayed:label">
                        <value>Habitaciones?</value>
                    </text>
                    <text id="/data/roomsSprayed:hint">
                        <value>H</value>
                    </text>
                    <text id="/data/roomsNotSprayed:label">
                        <value>Habitaciones?</value>
                    </text>
                    <text id="/data/roomsNotSprayed:hint">
                        <value>H</value>
                    </text>

                    <text id="/data/kitchensSprayed:label">
                        <value>Cocinas?</value>
                    </text>
                    <text id="/data/kitchensSprayed:hint">
                        <value>CN</value>
                    </text>
                    <text id="/data/kitchensNotSprayed:label">
                        <value>Cocinas?</value>
                    </text>
                    <text id="/data/kitchensNotSprayed:hint">
                        <value>CN</value>
                    </text>

                    <text id="/data/bathroomsSprayed:label">
                        <value>Baños?</value>
                    </text>
                    <text id="/data/bathroomsSprayed:hint">
                        <value>B</value>
                    </text>
                    <text id="/data/bathroomsNotSprayed:label">
                        <value>Baños?</value>
                    </text>
                    <text id="/data/bathroomsNotSprayed:hint">
                        <value>B</value>
                    </text>

                    <text id="/data/diningRoomsSprayed:label">
                        <value>Comedor?</value>
                    </text>
                    <text id="/data/diningRoomsSprayed:hint">
                        <value>CM</value>
                    </text>
                    <text id="/data/diningRoomsNotSprayed:label">
                        <value>Comedor?</value>
                    </text>
                    <text id="/data/diningRoomsNotSprayed:hint">
                        <value>CM</value>
                    </text>

                    <text id="/data/terracesSprayed:label">
                        <value>Terraza?</value>
                    </text>
                    <text id="/data/terracesSprayed:hint">
                        <value>T</value>
                    </text>
                    <text id="/data/terracesNotSprayed:label">
                        <value>Terraza?</value>
                    </text>
                    <text id="/data/terracesNotSprayed:hint">
                        <value>T</value>
                    </text>

                    <text id="/data/passageWaysSprayed:label">
                        <value>Passillos?</value>
                    </text>
                    <text id="/data/passageWaysSprayed:hint">
                        <value>P</value>
                    </text>
                    <text id="/data/passageWaysNotSprayed:label">
                        <value>Passillos?</value>
                    </text>
                    <text id="/data/passageWaysNotSprayed:hint">
                        <value>P</value>
                    </text>

                    <text id="/data/totalSprayed:label">
                        <value>Total</value>
                    </text>
                    <text id="/data/totalNotSprayed:label">
                        <value>Total</value>
                    </text>

                    <text id="/data/wastedInsecticideLoads:label">
                        <value>Cargas Gastadas?</value>
                    </text>

                    <text id="populationProtectedLabel:label">
                        <value>Poblacion protegidas?</value>
                    </text>
                    <text id="/data/peopleProtectedUnderAge5:label">
                        <value> &lt; 5 años</value>
                    </text>
                    <text id="/data/peopleProtectedPregnant:label">
                        <value>Embarazadas</value>
                    </text>
                    <text id="/data/peopleProtectedOther:label">
                        <value>Otros?</value>
                    </text>
                    <text id="/data/totalPeopleProtected:label">
                        <value>Total</value>
                    </text>

                    <text id="/data/additionalNotes:label">
                        <value>Hay algunas notas adicionales sobre esta casa?</value>
                    </text>

                </translation>



            </itext>

            <bind nodeset="/data/meta/instanceID" type="string" readonly="true()" calculate="concat('uuid:', uuid())"/>
            <bind nodeset="/data/processedByMirth" type="boolean" readonly="true"/>
            <bind nodeset="/data/needsReview" type="string" readonly="true()"/>
            <bind nodeset="/data/collectionDateTime" type="datetime" readonly="true()"/>
            <bind nodeset="/data/surveyDate" type="datetime" readonly="true()"/>

            <bind nodeset="/data/fieldWorkerExtId" type="string" required="true()" readonly="true()"/>
            <bind nodeset="/data/supervisorExtId" type="string" required="true()" readonly="true()"/>
            <bind nodeset="/data/locationExtId" type="string" required="true()" readonly="true()"/>

            <bind nodeset="/data/sprayOperatorExtId" type="string" required="true()" 
                constraint="(regex(., '^[B]{1}[O]{1}[0-9]{3}$'))" jr:constraintMsg="el ID debe ser del formato BO _ _ _" />

            <bind nodeset="/data/sprayRound" type="select1" required="true()" />
            <bind nodeset="/data/buildingType" type="select1" required="true()" />
            <bind nodeset="/data/iecResult" type="select1" required="true()" />

            <bind nodeset="/data/roomsSprayed" type="integer" required="true()"/>
            <bind nodeset="/data/kitchensSprayed" type="integer" required="true()" />
            <bind nodeset="/data/bathroomsSprayed" type="integer" required="true()" />
            <bind nodeset="/data/diningRoomsSprayed" type="integer" required="true()" />
            <bind nodeset="/data/terracesSprayed" type="integer" required="true()" />
            <bind nodeset="/data/passageWaysSprayed" type="integer" required="true()" />
            <bind nodeset="/data/totalSprayed" type="int" readonly="true()"
                calculate="if( true(), (/data/roomsSprayed + /data/kitchensSprayed + /data/bathroomsSprayed + /data/diningRoomsSprayed + /data/terracesSprayed + /data/passageWaysSprayed), 0)"/>

            <bind nodeset="/data/widgets/prompt_trigger_1" required="true()"/>
            <bind nodeset="/data/widgets/prompt_trigger_2" required="true()"/>
            <bind nodeset="/data/widgets/prompt_trigger_3" required="true()"/>

			<bind nodeset="/data/roomsNotSprayed" type="integer" required="true()"/>
            <bind nodeset="/data/kitchensNotSprayed" type="integer" required="true()" />
            <bind nodeset="/data/bathroomsNotSprayed" type="integer" required="true()" />
            <bind nodeset="/data/diningRoomsNotSprayed" type="integer" required="true()" />
            <bind nodeset="/data/terracesNotSprayed" type="integer" required="true()" />
            <bind nodeset="/data/passageWaysNotSprayed" type="integer" required="true()" />
            <bind nodeset="/data/totalNotSprayed" type="int" readonly="true()"
                calculate="if( true(), (/data/roomsNotSprayed + /data/kitchensNotSprayed + /data/bathroomsNotSprayed + /data/diningRoomsNotSprayed + /data/terracesNotSprayed + /data/passageWaysNotSprayed), 0)"/>

            <bind nodeset="/data/wastedInsecticideLoads" type="integer" required="true()" />

            <bind nodeset="/data/peopleProtectedUnderAge5" type="integer" required="true()" />
            <bind nodeset="/data/peopleProtectedPregnant" type="integer" required="true()" />
            <bind nodeset="/data/peopleProtectedOther" type="integer" required="true()" />
            <bind nodeset="/data/totalPeopleProtected" type="int" readonly="true()"
                calculate="if( true(), (/data/peopleProtectedUnderAge5 + /data/peopleProtectedPregnant + /data/peopleProtectedOther), 0)" />

            <bind nodeset="/data/additionalNotes" type="string" />

        </model>
    </h:head>

    <h:body>

        <group appearance="field-list">
            <input ref="/data/supervisorExtId">
                <label ref="jr:itext('/data/supervisorExtId:label')"/>
            </input>
            <input ref="/data/locationExtId">
                <label ref="jr:itext('/data/locationExtId:label')"/>
            </input>
            <input ref="/data/collectionDateTime">
                <label ref="jr:itext('/data/collectionDateTime:label')"/>
            </input>
        </group>

        <input ref="/data/sprayOperatorExtId">
            <label ref="jr:itext('/data/sprayOperatorExtId:label')"/>
            <hint ref="jr:itext('/data/sprayOperatorExtId:hint')"/>
        </input>

        <group appearance="field-list">

            <select1 ref="/data/sprayRound">
            <label ref="jr:itext('/data/sprayRound:label')"/>
                <item>
                    <label ref="jr:itext('/data/sprayRound:option0')"/>
                    <value>1</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/sprayRound:option1')"/>
                    <value>2</value>
                </item>
            </select1>

            <select1 ref="/data/iecResult">
            <label ref="jr:itext('/data/iecResult:label')"/>
                <item>
                    <label ref="jr:itext('/data/iecResult:option0')"/>
                    <value>A</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/iecResult:option1')"/>
                    <value>C</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/iecResult:option2')"/>
                    <value>X</value>
                </item>
            </select1>

            <select1 ref="/data/buildingType">
            <label ref="jr:itext('/data/buildingType:label')"/>
                <item>
                    <label ref="jr:itext('/data/buildingType:option0')"/>
                    <value>C</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/buildingType:option1')"/>
                    <value>I</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/buildingType:option2')"/>
                    <value>E</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/buildingType:option3')"/>
                    <value>H</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/buildingType:option4')"/>
                    <value>PS</value>
                </item>
                <item>
                    <label ref="jr:itext('/data/buildingType:option5')"/>
                    <value>CS</value>
                </item>
            </select1>
        </group>

        <group appearance="field-list">
            <label ref="jr:itext('structuresSprayedLabel:label')"/>
            <input ref="/data/roomsSprayed">
                <label ref="jr:itext('/data/roomsSprayed:label')"/>
                <hint ref="jr:itext('/data/roomsSprayed:hint')"/>
            </input>
            <input ref="/data/kitchensSprayed">
                <label ref="jr:itext('/data/kitchensSprayed:label')"/>
                <hint ref="jr:itext('/data/kitchensSprayed:hint')"/>
            </input>
            <input ref="/data/bathroomsSprayed">
                <label ref="jr:itext('/data/bathroomsSprayed:label')"/>
                <hint ref="jr:itext('/data/bathroomsSprayed:hint')"/>
            </input>
            <input ref="/data/diningRoomsSprayed">
                <label ref="jr:itext('/data/diningRoomsSprayed:label')"/>
                <hint ref="jr:itext('/data/diningRoomsSprayed:hint')"/>
            </input>
            <input ref="/data/terracesSprayed">
                <label ref="jr:itext('/data/terracesSprayed:label')"/>
                <hint ref="jr:itext('/data/terracesSprayed:hint')"/>
            </input>
            <input ref="/data/passageWaysSprayed">
                <label ref="jr:itext('/data/passageWaysSprayed:label')"/>
                <hint ref="jr:itext('/data/passageWaysSprayed:hint')"/>
            </input>
        </group>

        <group appearance="field-list">
            <label>Ha ingresado un total de <output value="/data/totalSprayed"/> estructuras rociadas (<output value="/data/roomsSprayed"/> habitaciones + <output value="/data/kitchensSprayed"/> cocinas + <output value="/data/bathroomsSprayed"/> baños + <output value="/data/diningRoomsSprayed"/> comedores + <output value="/data/terracesSprayed"/> terrazas + <output value="/data/passageWaysSprayed"/> passillos). Si este numero NO ES CORRECTO, volver atras y corregir sus respuestas.</label>
            <trigger ref="/data/widgets/prompt_trigger_1">
                <label>Quiere continuar?</label>
            </trigger>
        </group>

        <group appearance="field-list">
            <label ref="jr:itext('structuresNotSprayedLabel:label')"/>
            <input ref="/data/roomsNotSprayed">
                <label ref="jr:itext('/data/roomsNotSprayed:label')"/>
                <hint ref="jr:itext('/data/roomsNotSprayed:hint')"/>
            </input>
            <input ref="/data/kitchensNotSprayed">
                <label ref="jr:itext('/data/kitchensNotSprayed:label')"/>
                <hint ref="jr:itext('/data/kitchensNotSprayed:hint')"/>
            </input>
            <input ref="/data/bathroomsNotSprayed">
                <label ref="jr:itext('/data/bathroomsNotSprayed:label')"/>
                <hint ref="jr:itext('/data/bathroomsNotSprayed:hint')"/>
            </input>
            <input ref="/data/diningRoomsNotSprayed">
                <label ref="jr:itext('/data/diningRoomsNotSprayed:label')"/>
                <hint ref="jr:itext('/data/diningRoomsNotSprayed:hint')"/>
            </input>
            <input ref="/data/terracesNotSprayed">
                <label ref="jr:itext('/data/terracesNotSprayed:label')"/>
                <hint ref="jr:itext('/data/terracesNotSprayed:hint')"/>
            </input>
            <input ref="/data/passageWaysNotSprayed">
                <label ref="jr:itext('/data/passageWaysNotSprayed:label')"/>
                <hint ref="jr:itext('/data/passageWaysNotSprayed:hint')"/>
            </input>
        </group>

        <group appearance="field-list">
            <label>Ha ingresado un total de <output value="/data/totalNotSprayed"/> estructuras NO rociadas (<output value="/data/roomsNotSprayed"/> habitaciones + <output value="/data/kitchensNotSprayed"/> cocinas + <output value="/data/bathroomsNotSprayed"/> baños + <output value="/data/diningRoomsNotSprayed"/> comedores + <output value="/data/terracesNotSprayed"/> terrazas + <output value="/data/passageWaysNotSprayed"/> passillos). Si este numero NO ES CORRECTO, volver atras y corregir sus respuestas.</label>
            <trigger ref="/data/widgets/prompt_trigger_2">
                <label>Quiere continuar?</label>
            </trigger>
        </group>

        <input ref="/data/wastedInsecticideLoads">
            <label ref="jr:itext('/data/wastedInsecticideLoads:label')"/>
        </input>

        <group appearance="field-list"> 
            <label ref="jr:itext('populationProtectedLabel:label')"/>
            <input ref="/data/peopleProtectedUnderAge5">
                <label ref="jr:itext('/data/peopleProtectedUnderAge5:label')"/>
            </input>
            <input ref="/data/peopleProtectedPregnant">
                <label ref="jr:itext('/data/peopleProtectedPregnant:label')"/>
            </input>
            <input ref="/data/peopleProtectedOther">
                <label ref="jr:itext('/data/peopleProtectedOther:label')"/>
            </input>
        </group>

        <group appearance="field-list">
            <label>Ha ingresado un total de <output value="/data/totalNotSprayed"/> personas protegidas (<output value="/data/peopleProtectedUnderAge5"/> &lt; 5 + <output value="/data/peopleProtectedPregnant"/> embarazadas + <output value="/data/peopleProtectedOther"/> otros). Si este numero NO ES CORRECTO, volver atras y corregir sus respuestas.</label>
            <trigger ref="/data/widgets/prompt_trigger_3">
                <label>Quiere continuar?</label>
            </trigger>
        </group>

        <input ref="/data/additionalNotes">
            <label ref="jr:itext('/data/additionalNotes:label')"/>
        </input>


    </h:body>
</h:html>